# Система за Управление на Библиотека - Документация

## Общ преглед
Системата за управление на библиотека е цялостно решение за управление на библиотечни ресурси, включително книги, автори, жанрове и издатели. Системата предоставя функционалност за проследяване на книги, управление на връзките между различните обекти и ефективно управление на библиотечните операции.

## Технологичен стек

### Използвани технологии
- **.NET 8.0**: Основна рамка
- **Entity Framework Core**: ORM за операции с база данни
- **SQL Server**: Основна база данни
- **ASP.NET Core**: Уеб API рамка

### Структура на проекта
```
LibraryManagementSystem/
├── Data/
│   ├── ApplicationDbContext.cs
│   └── Migrations/
├── Models/
│   ├── AuthorModel.cs
│   ├── BookModel.cs
│   ├── GenreModel.cs
│   ├── PublisherModel.cs
│   └── BookAuthorModel.cs
├── Controllers/
│   ├── BooksController.cs
│   ├── AuthorsController.cs
│   ├── GenresController.cs
│   └── PublishersController.cs
└── Services/
    └── [Имплементации на услуги]
```

## Модели на данните

### BookModel (Модел на книга)
Основен обект за съхранение на информация за книги.

#### Свойства
- `Id` (int): Уникален идентификатор
- `Title` (string): Заглавие на книгата
- `ISBN` (string): Уникален идентификатор на книгата
- `Description` (string): Описание на книгата
- `PublishedDate` (DateTime): Дата на публикуване
- `GenreId` (int): Външен ключ към жанр
- `PublisherId` (int): Външен ключ към издател
- `AuthorIds` (int[]): Колекция от идентификатори на автори
- `BookAuthors` (ICollection<BookAuthorModel>): Връзка много-към-много с автори

### AuthorModel (Модел на автор)
Представя авторите на книги в системата.

#### Свойства
- `Id` (int): Уникален идентификатор
- `FirstName` (string): Име на автора
- `LastName` (string): Фамилия на автора
- `FullName` (string): Изчислено свойство, комбиниращо име и фамилия
- `BookAuthors`: Книги, написани от автора

### GenreModel (Модел на жанр)
Категоризира книгите по жанр.

#### Свойства
- `Id` (int): Уникален идентификатор
- `Name` (string): Име на жанра
- `Books`: Книги в този жанр

### PublisherModel (Модел на издател)
Представя издателите на книги.

#### Свойства
- `Id` (int): Уникален идентификатор
- `Name` (string): Име на издателя
- `Books`: Книги от този издател

## API Крайни точки

### Книги
```
GET    /api/books          - Списък на всички книги
GET    /api/books/{id}     - Получаване на книга по ID
POST   /api/books          - Създаване на нова книга
PUT    /api/books/{id}     - Обновяване на книга
DELETE /api/books/{id}     - Изтриване на книга
```

### Автори
```
GET    /api/authors          - Списък на всички автори
GET    /api/authors/{id}     - Получаване на автор по ID
POST   /api/authors          - Създаване на нов автор
PUT    /api/authors/{id}     - Обновяване на автор
DELETE /api/authors/{id}     - Изтриване на автор
```

### Жанрове
```
GET    /api/genres          - Списък на всички жанрове
GET    /api/genres/{id}     - Получаване на жанр по ID
POST   /api/genres          - Създаване на нов жанр
PUT    /api/genres/{id}     - Обновяване на жанр
DELETE /api/genres/{id}     - Изтриване на жанр
```

### Издатели
```
GET    /api/publishers          - Списък на всички издатели
GET    /api/publishers/{id}     - Получаване на издател по ID
POST   /api/publishers          - Създаване на нов издател
PUT    /api/publishers/{id}     - Обновяване на издател
DELETE /api/publishers/{id}     - Изтриване на издател
```

## Бизнес правила

### Книги
1. ISBN трябва да бъде уникален
2. Трябва да има поне един автор
3. Трябва да има жанр и издател
4. Заглавието и ISBN са задължителни

### Автори
1. Името и фамилията са задължителни
2. Могат да бъдат свързани с множество книги
3. Не могат да бъдат изтрити, ако имат свързани книги

### Жанрове
1. Името е задължително и трябва да бъде уникално
2. Не могат да бъдат изтрити, ако имат свързани книги

### Издатели
1. Името е задължително и трябва да бъде уникално
2. Не могат да бъдат изтрити, ако имат свързани книги

## Обработка на грешки

### Формат на отговор при грешка
```json
{
    "error": {
        "code": "string",
        "message": "string",
        "details": "string"
    }
}
```

## Валидация на данните

### Валидация на книги
- Валидация на формата на ISBN
- Проверка на задължителните полета
- Валидация на връзките

### Валидация на автори
- Валидация на формата на имената
- Проверка на задължителните полета

### Валидация на жанрове
- Проверка за уникално име
- Валидация на задължителните полета

### Валидация на издатели
- Проверка за уникално име
- Валидация на задължителните полета

## Сигурност

### Защита на данните
1. Санитизация на входните данни
2. Предотвратяване на SQL инжекции
3. Защита от XSS атаки

### Оторизация
1. Контрол на достъпа базиран на роли
2. Защита на API крайните точки
3. Права за достъп на ниво ресурс

## Изисквания за разгръщане

### Системни изисквания
- .NET 8.0 Runtime
- SQL Server 2019 или по-нова версия
- Минимум 4GB RAM
- 10GB дисково пространство

### Конфигурация
```json
{
    "ConnectionStrings": {
        "DefaultConnection": "Server=...;Database=..."
    },
    "Logging": {
        "LogLevel": {
            "Default": "Information"
        }
    }
}
```

## Поддръжка

### Поддръжка на базата данни
1. Редовни архивирания
2. Поддръжка на индексите
3. Почистване на данните

### Мониторинг
1. Метрики за производителност
2. Логване на грешки
3. Статистика на използването

## Бъдещи подобрения
1. Система за заемане на книги
2. Управление на потребители
3. Система за резервации
4. Генериране на отчети
5. Интеграция с външни API за книги 

## Създатели
1. Георги Димитров
2. Виктор Цеков
3. Георги Панайотов
4. Добромир Христов
